{"version":3,"file":"frontend/report-abuse.js","mappings":"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","sources":["webpack://yith-woocommerce-multi-vendor-premium/webpack/bootstrap","webpack://yith-woocommerce-multi-vendor-premium/webpack/runtime/make namespace object","webpack://yith-woocommerce-multi-vendor-premium/./node_modules/@babel/runtime/helpers/esm/classCallCheck.js","webpack://yith-woocommerce-multi-vendor-premium/./node_modules/@babel/runtime/helpers/esm/createClass.js","webpack://yith-woocommerce-multi-vendor-premium/./node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack://yith-woocommerce-multi-vendor-premium/./assets/js/frontend/src/report-abuse.js"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","/**\n * Report abuse modal handler\n *\n * @package YITH WooCommerce Multi Vendor\n * @since 4.0.0\n * @author YITH\n */\n\n\nclass VendorReportAbuse {\n\n\tmodal;\n\tmodalWrap;\n\n\tconstructor( trigger ) {\n\t\tthis.initModal();\n\n\t\tif ( this.modal.length ) {\n\t\t\tthis.modal.on( 'click', '.yith-wpv-abuse-report-modal-close', this.closeModal.bind(this) );\n\t\t\tthis.modal.on( 'submit', 'form', this.submitModal.bind(this) );\n\n\t\t\ttrigger.on( 'click', this.openModal.bind(this) );\n\t\t}\n\t}\n\n\tinitModal() {\n\t\t// Granted backward compatibility with old templates.\n\t\tthis.modal \t= jQuery( document ).find( '#yith-wpv-abuse-report' );\n\t\tif ( this.modal.length ) {\n\t\t\tthis.wrap = this.modal.closest( '#yith-wpv-abuse-report-modal' );\n\n\t\t\t// If wrap doesn't exists, add it!\n\t\t\tif ( ! this.wrap.length ) {\n\t\t\t\tthis.modal.wrap( '<div id=\"yith-wpv-abuse-report-modal\"></div>' );\n\t\t\t\tthis.wrap = this.modal.closest( '#yith-wpv-abuse-report-modal' );\n\t\t\t}\n\t\t}\n\t}\n\n\topenModal( event ) {\n\t\tevent.preventDefault();\n\t\t// Load the template.\n\t\tthis.setModalContent( 'yith-wcmv-abuse-report-content' );\n\t\t// Show modal.\n\t\tthis.wrap.show();\n\t\tthis.modal.fadeIn();\n\t}\n\n\tsetModalContent( template ) {\n\t\tlet content =  wp.template( template );\n\t\tif ( typeof content !== 'undefined' ) {\n\t\t\tthis.modal.html( content() );\n\t\t}\n\n\t\t// Add close trigger if missing. Added with JS for backward compatibility.\n\t\tif ( ! this.modal.find( '.yith-wpv-abuse-report-modal-close' ).length ) {\n\t\t\tthis.modal.prepend( '<span class=\"yith-wpv-abuse-report-modal-close\"></span>' );\n\t\t}\n\t}\n\n\taddModalError( error ) {\n\t\tlet error_wrap = this.modal.find( '.yith-wpv-abuse-report-modal-error' );\n\t\tif ( ! error_wrap.length ) {\n\t\t\tthis.modal.find( '.yith-wpv-abuse-report-title' ) .after(\n\t\t\t\t'<div class=\"yith-wpv-abuse-report-modal-error\">' + error + '</div>'\n\t\t\t)\n\t\t} else {\n\t\t\terror_wrap.html( error );\n\t\t}\n\t}\n\n\tsubmitModal( event ) {\n\t\tevent.preventDefault();\n\n\t\tconst self = this;\n\n\t\tlet form = self.modal.find( 'form' ),\n\t\t\tdata = form.serializeArray();\n\n\t\tdata.push({ name: 'context', value: 'frontend' });\n\n\t\tjQuery.ajax( {\n\t\t\turl: woocommerce_params.wc_ajax_url.toString().replace( '%%endpoint%%', 'send_report_abuse' ),\n\t\t\tdata,\n\t\t\tmethod: 'POST',\n\t\t\tdataType: 'json',\n\t\t\tbeforeSend: function(){\n\t\t\t\tif ( typeof jQuery.fn.block !== 'undefined' ) {\n\t\t\t\t\tself.modal.block( {\n\t\t\t\t\t\tmessage: null,\n\t\t\t\t\t\toverlayCSS: {\n\t\t\t\t\t\t\tbackground: '#fff no-repeat center',\n\t\t\t\t\t\t\topacity: 0.5,\n\t\t\t\t\t\t\tcursor: 'none',\n\t\t\t\t\t\t},\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t},\n\t\t\terror: function( jqXHR, textStatus, errorThrown ) {\n\t\t\t\tconsole.log( textStatus, errorThrown );\n\t\t\t},\n\t\t\tsuccess: function( response ) {\n\t\t\t\tif ( response?.success ) {\n\t\t\t\t\t// Load the template.\n\t\t\t\t\tself.setModalContent( 'yith-wcmv-abuse-report-sent' );\n\t\t\t\t\tsetTimeout( () => {\n\t\t\t\t\t\tself.closeModal();\n\t\t\t\t\t}, 5000)\n\t\t\t\t} else {\n\t\t\t\t\tself.addModalError( response?.data );\n\t\t\t\t}\n\t\t\t},\n\t\t\tcomplete: function() {\n\t\t\t\tif ( typeof jQuery.fn.block !== 'undefined' ) {\n\t\t\t\t\tself.modal.unblock();\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\t}\n\n\tcloseModal( event ) {\n\t\tthis.wrap.hide();\n\t\tthis.modal.hide().html('');\n\t}\n}\n\njQuery( document ).ready( function() {\n\tconst trigger = jQuery( document ).find( '#yith-wpv-abuse' );\n\tif ( trigger.length ) {\n\t\tnew VendorReportAbuse( trigger );\n\t}\n});\n"],"names":["VendorReportAbuse","trigger","initModal","modal","length","on","closeModal","bind","submitModal","openModal","jQuery","document","find","wrap","closest","event","preventDefault","setModalContent","show","fadeIn","template","content","wp","html","prepend","error","error_wrap","after","self","form","data","serializeArray","push","name","value","ajax","url","woocommerce_params","wc_ajax_url","toString","replace","method","dataType","beforeSend","fn","block","message","overlayCSS","background","opacity","cursor","jqXHR","textStatus","errorThrown","console","log","success","response","setTimeout","addModalError","complete","unblock","hide","ready"],"sourceRoot":""}